<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Batching Certificate | opencerts-documentation</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Batching Certificate" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Documentations for opencerts" />
<meta property="og:description" content="Documentations for opencerts" />
<link rel="canonical" href="https://docs.opencerts.io/v1/batching_certificates.html" />
<meta property="og:url" content="https://docs.opencerts.io/v1/batching_certificates.html" />
<meta property="og:site_name" content="opencerts-documentation" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Batching Certificate","url":"https://docs.opencerts.io/v1/batching_certificates.html","description":"Documentations for opencerts","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/v1/assets/css/style.css?v=1c134727a627eb05a39e39be30a5a02411ece189">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">

      <h1><a href="https://docs.opencerts.io/">opencerts-documentation</a></h1>


      <h1 id="batching-certificate">Batching Certificate</h1>

<p><img src="/v1/assets/batching-certificates/merkle-root.png" alt="Batching Certificates" /></p>

<p>OpenCerts is able to batch large number of certificates to be issued on the Ethereum blockchain in a single transaction.</p>

<p>To facilitate the ease of signing and batching OpenCerts, a <a href="https://www.npmjs.com/package/@govtechsg/open-certificate">npm package</a> and a <a href="https://github.com/GovTechSG/certificate-cli">CLI tool</a> is provided.</p>

<h2 id="prerequisite">Prerequisite</h2>

<h3 id="environment">Environment</h3>

<ul>
  <li><a href="https://www.linode.com/docs/development/version-control/how-to-install-git-on-linux-mac-and-windows/">Git</a></li>
  <li><a href="https://nodejs.org/en/download/">Node.js</a></li>
</ul>

<h3 id="opencerts-data-file">OpenCerts Data File</h3>

<p>To follow through this section, please have all the certificates generated from the previous step in a single folder.</p>

<h2 id="cli-tool">CLI Tool</h2>

<h3 id="installing-the-cli-tool">Installing the CLI Tool</h3>

<p>Clone the certificate-cli source code repository to your deployment environment</p>

<blockquote>
  <p>git clone https://github.com/GovTechSG/certificate-cli.git</p>
</blockquote>

<p>Navigate into the directory</p>

<blockquote>
  <p>cd certificate-cli</p>
</blockquote>

<p>Install the dependencies for the package</p>

<blockquote>
  <p>npm install –production –ignore-scripts</p>
</blockquote>

<h3 id="using-the-cli-tool">Using the CLI Tool</h3>

<p>Place the unsigned certificates into a folder</p>

<blockquote>
  <p>mkdir unsigned_certs
mv &lt;path/certs&gt; unsigned_certs</p>
</blockquote>

<p>Run the CLI Tool to batch the certificates</p>

<blockquote>
  <p>node index.js batch unsigned_certs signed_certs</p>
</blockquote>

<p>Sample output:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2018-08-30T05:06:55.313Z info: Batch Certificate Root: 70250f22ecaa7c12cdde4a4bc6dc3bf2464433691cd462bcfe980d7e85f6a06c
</code></pre></div></div>

<p>Upon successful batching of the certificates, the merkle root for the entire batch will be printed and the signed certificates will be found in the folder <code class="highlighter-rouge">signed_certs</code>.</p>

<p>Note the merkle root, it will be <a href="/v1/issuing_certificates.html">published onto the certficate store</a> in later steps.</p>

<h2 id="npm-package">NPM Package</h2>

<p>For the documentations for writing custom application to process the certificates, <a href="https://github.com/GovTechSG/open-certificate">refer to the documentation for OpenCerts</a></p>



    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>

  </body>
</html>
